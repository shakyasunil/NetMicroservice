name: "Build for PRe"
description: "Builds a docker image without pushing"
inputs:
  service:
    description: "Service to build"
    required: true

runs:
  using: "composite"
  steps:
  - uses: actions/checkout@v2
  - name: Setup .NET Core
    uses: actions/setup-dotnet@v1
    with:
      dotnet-version: 3.1.301
  - name: Install dependencies
    run: dotnet restore
    working-directory: ./services/${{ inputs.service }}  
  - name: Compose build ${{ inputs.service }}
    shell: bash
    run:  dotnet build --configuration Release --no-restore
    working-directory: ./services/${{ inputs.service }}
